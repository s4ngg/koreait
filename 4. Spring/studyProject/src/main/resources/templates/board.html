<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>학습게시판 - 게시판</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>

  <!-- ===== Header ===== -->
  <header th:replace="~{fragments/header :: global_header}"></header>
    <div class="header-inner">
      <a href="/board" class="logo">
        <span class="logo-icon">L</span>
        학습게시판
      </a>

      <button class="menu-toggle" onclick="toggleMenu()" aria-label="메뉴 열기">
        <span></span><span></span><span></span>
      </button>

      <nav class="nav">
        <a href="/">홈</a>
        <a href="/board" class="active">게시판</a>
        <a href="profile.html">내 정보</a>
        <div class="nav-auth">
          <a href="/member/login/form" class="btn btn-ghost btn-sm">로그인</a>
          <a href="/member/register/form" class="btn btn-primary btn-sm">회원가입</a>
        </div>
      </nav>
    </div>
  </header>

  <!-- ===== Main ===== -->
  <main class="main">

    <!-- Section Header -->
    <div class="section-header">
      <h2>게시판</h2>
      <div class="search-box">
        <input type="text" class="form-input" placeholder="게시글 검색...">
        <button type="button" class="btn btn-secondary">
          <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
          검색
        </button>
      </div>
    </div>

    <!-- Board Top Bar -->
    <div class="board-topbar">
      <span class="info">총 <strong th:text="${list.totalElements}"></strong>개의 게시글</span>
      <a href="/board/create/form" class="btn btn-primary btn-sm" th:if="${session.LOGIN_USER != null}">
        <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
        새 글 작성
      </a>
    </div>

    <!-- Board Table -->
    <div class="table-wrapper">
      <table class="table">
        <thead>
          <tr>
            <th class="col-no">번호</th>
            <th class="col-title">제목</th>
            <th class="col-author">작성자</th>
            <th class="col-date">작성일</th>
            <th class="col-views">조회수</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="board : ${list}"
          th:onclick="|location.href='/board/detail?id=' + ${board.id}|">
            <td class="col-no" th:text="${board.id}"></td>
            <td class="col-title">
              <a th:href="@{/board/detail(id=${board.id})}" th:text="${board.title}">게시판에 오신 것을 환영합니다!</a>
              <span class="badge badge-success" 
              th:if="${board.category != null}" 
              th:text="${board.category}"></span>
            </td>
            <td class="col-author" th:text="${board.writerName}"></td>
            <td class="col-date" th:text="${#temporals.format(board.createdAt, 'yyyy.MM.dd')}"></td>
            <td class="col-views" th:text="${board.viewCount}"></td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Pagination -->
<nav class="pagination" aria-label="페이지 이동">
  <!-- 이전 페이지 -->
  <a th:href="@{/board(page=${currentPage - 1})}" 
     th:class="${currentPage == 1} ? 'disabled' : ''" 
     aria-label="이전 페이지">&laquo;</a>
  
  <!-- 페이지 번호 -->
  <th:block th:each="i : ${#numbers.sequence(startPage, endPage)}">
    <span th:if="${i == currentPage}" 
          class="active" 
          th:text="${i}"></span>
    
    <a th:if="${i != currentPage}" 
       th:href="@{/board(page=${i})}" 
       th:text="${i}"></a>
  </th:block>
  
  <!-- 다음 페이지 -->
  <a th:href="@{/board(page=${currentPage + 1})}" 
     th:class="${currentPage >= totalPages} ? 'disabled' : ''" 
     aria-label="다음 페이지">&raquo;</a>
</nav>

  </main>

  <!-- ===== Footer ===== -->
  <footer class="footer">
    <p>학습용 웹페이지 &copy; 2026 &mdash; HTML, CSS, JavaScript 실습 프로젝트</p>
  </footer>

  <script src="js/app.js"></script>
</body>
</html>
